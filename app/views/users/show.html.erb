<h1>Users#show</h1>
<p>Find me in app/views/users/show.html.erb</p>

<div class="container">
  <div class="row">
    <div class="col-md-4">
  
      <%= image_tag @user.get_profile_image(200,200) %>
      <p>
        Name: <%= @user.name %><br>
        
       
        誕生日: <%= @user.birthday %><br>
        

        introduction: <%= @user.introduction %><br>
        
        退会フラグこれはテスト用です: <%= @user.is_active %><br>

      </p>
      <% if @user.id == current_user.id %>
        <button type="button" class="btn btn-success btn-lg btn-block" >
          <%= link_to  edit_user_path(@user.id) do %>
         <i>プロフィール編集</i>
         <%end%>
       </button>

        <button type="button" class="btn btn-dark btn-lg btn-block" >
          <%= link_to  edit_user_path(@user.id) do %>
          <i>フォローユーザー</i>
          <%end%>
       </button>

        <button type="button" class="btn btn-secondary btn-lg btn-block" >
          <%= link_to  edit_user_path(@user.id) do %>
          <i>ダイレクトメセージ</i>
         <%end%>
        </button>

      <% end %>

    </div>

    <div class="col-md-7 offset-md-1">

      <h2 class="mb-5">ユーザー投稿一覧</h2>

      <div class="text-end mb-5">
        <%= link_to "新規投稿", new_post_path, class: "btn btn-primary" %>
      </div>

      <div class="list-group">    
        <% @posts.each do |post| %>
         <a href="<%= post_path(post) %>" class="list-group-item list-group-item-action border border-primary">

           <div class="row align-items-center">
              <div class="col-md-4">
               <%= image_tag post.get_image(300,300) %>
              </div>

              <div class="col-md-8" style="word-break: break-all;">

               <p class ="mb-1 " style="font-size: 1.5rem; font-weight: bold;">
                  <%= post.title %>
               </p>

                <p class= " mb-1 w-100 text-wrap">
                 <%# 投稿の本文を短く切り取る %>
                 <%= truncate(post.body, length: 100) %>
               </p>

               <p class="text-muted small">投稿者: <%= post.user.name %> | <%= post.created_at.strftime("%Y/%m/%d %H:%M") %></p>
             </div>
            </div>
          </a>  
        <% end %> 
      </div>


    </div>

  </div>



</div>
